/**
 * MDUI 组件 Monet 颜色覆盖
 * 
 * 仅当启用莫奈取色时（.monet-enabled 类存在），才使用 Monet 变量覆盖 MDUI 组件颜色
 * 否则使用 MDUI 默认的颜色系统（支持 setColorScheme 设置的主题色）
 */

/* ==================== 莫奈取色启用时的组件覆盖 ==================== */

/* 卡片背景 */
.monet-enabled mdui-card {
  background-color: var(--monet-surface-container-low) !important;
}

.monet-enabled mdui-card[variant="elevated"] {
  background-color: var(--monet-surface-container-low) !important;
}

.monet-enabled mdui-card[variant="filled"] {
  background-color: var(--monet-surface-container-high) !important;
}

.monet-enabled mdui-card[variant="outlined"] {
  background-color: var(--monet-surface) !important;
  border-color: var(--monet-outline-variant) !important;
}

/* 顶部应用栏 */
.monet-enabled mdui-top-app-bar {
  background-color: var(--monet-surface) !important;
  color: var(--monet-on-surface) !important;
}

/* 底部导航栏 */
.monet-enabled mdui-navigation-bar {
  background-color: var(--monet-surface-container) !important;
}

.monet-enabled mdui-navigation-bar-item[active]::part(indicator) {
  background-color: var(--monet-secondary-container) !important;
}

.monet-enabled mdui-navigation-bar-item[active]::part(icon),
.monet-enabled mdui-navigation-bar-item[active]::part(label) {
  color: var(--monet-on-secondary-container) !important;
}

/* 按钮 */
.monet-enabled mdui-button[variant="filled"] {
  background-color: var(--monet-primary) !important;
  color: var(--monet-on-primary) !important;
}

.monet-enabled mdui-button[variant="tonal"] {
  background-color: var(--monet-secondary-container) !important;
  color: var(--monet-on-secondary-container) !important;
}

.monet-enabled mdui-button[variant="outlined"] {
  border-color: var(--monet-outline) !important;
  color: var(--monet-primary) !important;
}

.monet-enabled mdui-button[variant="text"] {
  color: var(--monet-primary) !important;
}

/* 图标按钮 */
.monet-enabled mdui-button-icon {
  color: var(--monet-on-surface-variant) !important;
}

/* 浮动操作按钮 FAB */
.monet-enabled mdui-fab {
  background-color: var(--monet-primary-container) !important;
  color: var(--monet-on-primary-container) !important;
}

/* 芯片 Chip */
.monet-enabled mdui-chip {
  background-color: var(--monet-surface-container-high) !important;
  color: var(--monet-on-surface) !important;
}

/* 分段按钮组 */
.monet-enabled mdui-segmented-button-group {
  border-color: var(--monet-outline) !important;
}

.monet-enabled mdui-segmented-button {
  color: var(--monet-on-surface) !important;
  border-color: var(--monet-outline) !important;
}

.monet-enabled mdui-segmented-button[selected] {
  background-color: var(--monet-secondary-container) !important;
  color: var(--monet-on-secondary-container) !important;
}

.monet-enabled mdui-segmented-button:not([selected]):hover {
  background-color: var(--monet-surface-container-highest) !important;
}

.monet-enabled mdui-segmented-button[selected]::part(icon) {
  color: var(--monet-on-secondary-container) !important;
}

/* 对话框 */
.monet-enabled mdui-dialog::part(panel) {
  background-color: var(--monet-surface-container-high) !important;
}

/* 列表 */
.monet-enabled mdui-list-item {
  color: var(--monet-on-surface) !important;
}

.monet-enabled mdui-list-item:hover {
  background-color: var(--monet-surface-container-high) !important;
}

.monet-enabled mdui-list-item::part(headline) {
  color: var(--monet-on-surface) !important;
}

.monet-enabled mdui-list-item::part(description) {
  color: var(--monet-on-surface-variant) !important;
}

.monet-enabled mdui-list-item[clickable]:hover {
  background-color: var(--monet-surface-variant) !important;
}

/* 折叠面板 */
.monet-enabled mdui-collapse {
  background-color: var(--monet-surface-container-low) !important;
}

/* 文本输入框 */
.monet-enabled mdui-text-field::part(container) {
  background-color: var(--monet-surface-container-highest) !important;
}

.monet-enabled mdui-text-field::part(input) {
  color: var(--monet-on-surface) !important;
}

.monet-enabled mdui-text-field::part(label) {
  color: var(--monet-on-surface-variant) !important;
}

.monet-enabled mdui-text-field[focused]::part(label) {
  color: var(--monet-primary) !important;
}

.monet-enabled mdui-text-field::part(supporting) {
  color: var(--monet-on-surface-variant) !important;
}

/* 下拉菜单 */
.monet-enabled mdui-menu {
  background-color: var(--monet-surface-container) !important;
}

.monet-enabled mdui-menu-item {
  color: var(--monet-on-surface) !important;
}

.monet-enabled mdui-menu-item:hover {
  background-color: var(--monet-surface-container-high) !important;
}

/* 进度指示器 */
.monet-enabled mdui-circular-progress::part(indicator) {
  stroke: var(--monet-primary) !important;
}

.monet-enabled mdui-linear-progress::part(indicator) {
  background-color: var(--monet-primary) !important;
}

/* 图标 */
.monet-enabled mdui-icon {
  color: var(--monet-on-surface-variant) !important;
}

/* 复选框 */
.monet-enabled mdui-checkbox[checked]::part(control) {
  background-color: var(--monet-primary) !important;
  border-color: var(--monet-primary) !important;
}

.monet-enabled mdui-checkbox[checked]::part(checked-icon) {
  color: var(--monet-on-primary) !important;
}

.monet-enabled mdui-checkbox:not([checked])::part(control) {
  border-color: var(--monet-on-surface-variant) !important;
}

.monet-enabled mdui-checkbox:hover::part(control) {
  border-color: var(--monet-primary) !important;
}

/* 开关 */
.monet-enabled mdui-switch[checked]::part(track) {
  background-color: var(--monet-primary) !important;
  border-color: var(--monet-primary) !important;
}

.monet-enabled mdui-switch[checked]::part(thumb) {
  background-color: var(--monet-on-primary) !important;
}

.monet-enabled mdui-switch:not([checked])::part(track) {
  border-color: var(--monet-outline) !important;
  background-color: var(--monet-surface-container-highest) !important;
}

.monet-enabled mdui-switch:not([checked])::part(thumb) {
  background-color: var(--monet-outline) !important;
}

.monet-enabled mdui-switch:hover:not([checked])::part(track) {
  border-color: var(--monet-on-surface) !important;
}

.monet-enabled mdui-switch:hover:not([checked])::part(thumb) {
  background-color: var(--monet-on-surface-variant) !important;
}

/* ==================== 通用样式（不依赖莫奈取色） ==================== */

/* 配置文件项中的更多按钮 - 扩大触发范围 */
mdui-list-item.config-item mdui-dropdown[slot="end-icon"] mdui-button-icon {
  position: relative;
  padding: 12px;
  margin: -12px;
  min-width: 48px;
  min-height: 48px;
}

/* 分段按钮组基础样式 */
mdui-segmented-button-group {
  background-color: transparent !important;
}

/* 对话框遮罩层 */
mdui-dialog::part(overlay) {
  background-color: rgba(0, 0, 0, 0.32) !important;
}

/* 确认对话框宽度限制 */
mdui-dialog#confirm-dialog::part(panel) {
  max-width: 400px !important;
  width: 90% !important;
}

/* 列表基础样式 */
mdui-list {
  background-color: transparent !important;
}

mdui-list-item {
  background-color: transparent !important;
}

/* 列表项描述文字换行 */
mdui-list-item::part(description) {
  white-space: normal !important;
  overflow-wrap: break-word !important;
  word-break: break-all !important;
  line-height: 1.4 !important;
}

/* 应用选择器对话框中的列表项 */
#app-selector-list mdui-list-item::part(headline) {
  white-space: normal !important;
  overflow-wrap: break-word !important;
  word-break: break-all !important;
  line-height: 1.3 !important;
}

#app-selector-list mdui-list-item::part(description) {
  white-space: normal !important;
  overflow-wrap: break-word !important;
  word-break: break-all !important;
  line-height: 1.3 !important;
}

/* 列表项布局 */
mdui-list-item::part(body) {
  min-width: 0 !important;
  overflow: visible !important;
  flex: 1 1 auto !important;
}

mdui-list-item::part(end-icon) {
  flex-shrink: 0 !important;
  margin-left: 8px !important;
}

/* UID 列表项布局 */
#uid-list mdui-list-item {
  --mdui-list-item-container-padding-right: 8px;
}

#uid-list mdui-list-item mdui-button-icon[slot="end-icon"] {
  margin-left: 4px !important;
  margin-right: -8px !important;
}

mdui-list-item[clickable] {
  cursor: pointer;
}

/* 列表项焦点状态 */
mdui-list-item:focus,
mdui-list-item:focus-visible,
mdui-list-item:focus-within {
  background-color: transparent !important;
  outline: none !important;
}

mdui-list-item:has(mdui-dropdown[open]) {
  background-color: transparent !important;
}

mdui-list-item::part(container):focus,
mdui-list-item::part(container):focus-visible {
  background-color: transparent !important;
}

/* 配置项列表禁用 ripple */
mdui-list-item.config-item::part(state-layer) {
  display: none !important;
}

mdui-list-item.config-item::part(ripple) {
  display: none !important;
}

/* 折叠面板圆角 */
mdui-collapse {
  border-radius: 12px;
  overflow: hidden;
}

mdui-collapse-item {
  background-color: transparent !important;
}

mdui-collapse-item[open] {
  border-radius: 12px;
}

mdui-collapse-item::part(header) {
  border-radius: 12px;
}

mdui-collapse-item[open]::part(header) {
  border-radius: 12px 12px 0 0;
}

mdui-collapse-item::part(body) {
  border-radius: 0 0 12px 12px;
}

/* 下拉菜单基础样式 */
mdui-dropdown {
  background-color: transparent !important;
}

/* 菜单项样式修复 */
mdui-menu-item::part(container) {
  padding: 8px 12px !important;
}

mdui-menu-item::part(label) {
  overflow: visible !important;
  line-height: normal !important;
}

/* 状态芯片 */
#status-chip {
  text-transform: uppercase;
  font-weight: 500;
}

#status-chip[data-status="running"] {
  background-color: rgb(76, 175, 80) !important;
  color: white !important;
}

#status-chip[data-status="stopped"] {
  background-color: rgb(244, 67, 54) !important;
  color: white !important;
}

#status-chip-new {
  font-size: 12px;
  height: 26px;
}

#status-chip-compact {
  font-size: 12px;
  height: 24px;
}

/* 开关禁用状态 */
mdui-switch[disabled]::part(track) {
  opacity: 0.38 !important;
}

mdui-switch[disabled]::part(thumb) {
  opacity: 0.38 !important;
}